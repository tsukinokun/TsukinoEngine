//--------------------------------------------------------------
//! @file	Window.hpp
//! @brief  ウィンドウ管理クラスの宣言
//! @author 山﨑愛
//--------------------------------------------------------------
#pragma once
#include <windows.h>
#include <string>
// 名前空間 : Tsukino::Core
namespace Tsukino::Core {
    //--------------------------------------------------------------
    //! @class	 Window
    //! @brief	 ウィンドウ管理クラス
    //! @details Win32 APIを使用してウィンドウの生成とメッセージ処理を行うクラス
    //--------------------------------------------------------------
    class Window {
    public:
        //--------------------------------------------------------------
        // コンストラクタ
        //--------------------------------------------------------------
        Window();

        //--------------------------------------------------------------
        // デストラクタ
        //--------------------------------------------------------------
        ~Window();

        //--------------------------------------------------------------
        // ウィンドウ生成
        //! @param title  [in] ウィンドウタイトル
        //! @param width  [in] ウィンドウ幅
        //! @param height [in] ウィンドウ高さ
        //--------------------------------------------------------------
        bool Create(const std::string& title, int width, int height);

        //--------------------------------------------------------------
        // メッセージ処理（false が返ればアプリ終了）
        //! @return true: 継続, false: 終了
        //--------------------------------------------------------------
        bool ProcessMessages();

        //--------------------------------------------------------------
        // Rendererが必要とする HWND
        //--------------------------------------------------------------
        HWND GetHWND() const { return m_hWnd; }

        //--------------------------------------------------------------
        // ウィンドウの幅を取得する関数
        //! @return ウィンドウの幅
        //--------------------------------------------------------------
        int GetWidth() const { return m_width; }

        //--------------------------------------------------------------
        // ウィンドウの高さを取得する関数
        //! @return ウィンドウの高さ
        //--------------------------------------------------------------
        int GetHeight() const { return m_height; }

    private:
        //--------------------------------------------------------------
        // Win32 のウィンドウプロシージャ
        //! @param hwnd   [in]ウィンドウハンドル
        //! @param msg    [in]メッセージコード
        //! @param wParam [in] メッセージの追加情報（通常はイベントの種類など）
        //! @param lParam [in] メッセージの追加情報（通常はイベントの座標など）
        //! @return メッセージ処理の結果（通常は0）
        //--------------------------------------------------------------
        static LRESULT CALLBACK WindowProc(HWND hwnd, UINT msg, WPARAM wParam, LPARAM lParam);

        HWND m_hWnd;      // ウィンドウハンドル
        int  m_width;     // ウィンドウの幅
        int  m_height;    // ウィンドウの高さ
    };
}    // namespace Tsukino::Core
